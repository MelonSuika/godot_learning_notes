


# 前言
看Godot视频跟做的笔记。

# 目录
[主体内容](#主体内容)  
[08-场景资源](#08-场景资源)  
[09-场景视图和游戏视图](#09-场景视图和游戏视图)  
[10-游戏对象节点](#10-游戏对象节点)  
[11-坐标系](#11-坐标系)  
[12-节点的基础操作](#12-节点的基础操作)  
[13-节点操作工具](#13-节点操作工具)  
[14-对齐与锁定](#14-对齐与锁定)  
[15-节点的父子关系](#15-节点的父子关系)  
[16-节点的显示和隐藏](#16-节点的显示和隐藏)  
[17-节点的显示顺序](#17-节点的显示顺序)  
[18-轴心点](#18-轴心点)  
[19-锚点](#19-锚点)  

# 主体内容
## 版本
- Godot_v4.4.1

## 08 场景&资源
- 场景(Scene)，游戏中的场景/关卡
- 默认左下角资源面板下右键，新建场景
- 资源Asset，游戏中的各种素材、脚本等数据文件

## 09 场景视图和游戏视图
- 场景视图Scene View，即场景编辑器窗口，  
![Scene View](/notes/images/scene_view.png)

- 鼠标滚轮，放大/缩小视图
- 空格键(或按住鼠标滚轮)可鼠标拖拽，用于移动视图（默认与版本相关，教学视频中的版本鼠标右键即可拖拽）
- 网格，每个大网格包含8\*8小网格，每个小网格8\*8像素  
![grid](/notes/images/grid.png)

## 10 游戏对象（节点）
- 游戏对象 即节点（Node），它是所有场景对象的基类，场景中包含的内容都是节点。
- 向场景中添加图片：  
    1. 准备素材图
    2. 图片拖拽进2D场景中
    3. 场景窗口中，可以观察新加的游戏对象

- 选中游戏对象后，可对其进行各种编辑。

## 11 坐标系
- 右是x正向，下是y正向；
- 移动对象可以用鼠标、键盘方向或手动修改position的坐标x和y；  
- 游戏对象移动后，检查器（inspector）中的坐标会发生变化  
![inspector_position](/notes/images/inspector_position.png)

- 世界坐标系，原点无法改变，暂时可以认为在左上角  
`向下y正向，向右x正向。`

- 相对坐标系，又称局部坐标系或本地坐标系，相对于父节点的坐标，godot的坐标都是相对坐标  
![relative_position](/notes/images/relative_position.png)

## 12 节点的基础操作
场景视图上方的工具栏，可以切换操作模式。
- Q. 选择模式，基础且综合的工具，几乎包含了所有其他模式的功能

![select_mode](/notes/images/select_mode.png)  

> 缩放功能
> - 直接缩放，拖拽目标周围缩放点
> - alt + 缩放，不改变轴心
> - shift + 缩放，保持比例
> - alt + shift + 缩放，结合以上两种特点


- 其他模式（缩放、旋转、移动），单一的功能
- 选中对象，鼠标移动到场景视图按f，可将该对象居中显示。


## 13 节点操作工具
- 节点列表工具  
当多个节点重叠时，在场景视图下直接点击只能选中最上层的节点，使用节点列表工具点击可以跳出重叠节点的列表，供你做精确选择。

- 轴心点工具  
![rotation_pivot_tool](/notes/images/rotation_pivot_tool.png)  
旋转轴心

- 平移模式  
切换该模式后，不会选中场景中的节点，只会平移场景。

- 标尺模式  
在场景视图中点击会出现一把标尺，用于量长度角度。

## 14 对齐与锁定
- 智能对齐 Smart Snap，拖动时会出现轴心相关的红线辅助对齐。
- 网格对齐 Grid Snap，拖动时最小单位是网格，不会在网格中间的坐标停留（移动步长变成8px了）。
- 节点锁定，选中节点锁定后，会出现一个锁的图标，无法通过鼠标去操作锁定节点。
- 编组所选节点 Group selected nodes，  
![group_selected_nodes](/notes/images/group_selected_nodes.png)  
编组后就不是独立节点了，选中一个节点，该节点树都会被选中，不过只适用于有子节点的。

## 15 节点的父子关系
- 左侧场景标签页中的层级关系中，节点呈树形显示，一个对象下面可以挂子节点。  
![node_tree](/notes/images/node_tree.png)  
随便操作一下，会发现当父节点移动、旋转时，子节点也随之移动旋转。
- 同时，子节点的坐标是相当于父节点的，在旋转移动父节点时，子节点的旋转角度和坐标值并没有变。

## 16 节点的显示和隐藏
- 删除节点  
右键节点`Delete`，或者键盘`Delete`
- 恢复  
`Ctrl+Z`， 撤销上一步操作
- 更改节点名字  
右键`Rename`， 或双击节点修改，或F2
- 显示/隐藏  
`Inspector（属性检查器）`里，勾选`Visible`，或者在节点右侧点击 `可见性` 图标。
- 在  `Project | Project Settings | Display | Window` 中可以设置运行窗口长宽比。

## 17 节点的显示顺序
按节点树深度优先顺序渲染，后渲染的会覆盖住先渲染的。  
![render_order](/notes/images//render_order.png)

## 18 轴心点
`Pivot`，轴心点。
- 轴心点也叫中心点，中心点是一个物体的中心，当对物体进行操作时，都是以中心点为基准的。
- 轴心点可以理解为将物体抽象为一个点（图形外观只是一层外衣），物体的位置就是轴心点的位置，就是该物体坐标系的原点。
- 主要用于旋转和决定对象的位置。
- 轴心，指旋转轴、坐标基准点，默认在对象的几何中心（正方形长方形的中心）。

## 19 锚点
`Anchor`，锚点。  
锚点是`Control`元素才有的。
>由来：  
如果一个游戏总是运行在同一分辨率的设备上，摆放控件是简单的，只要逐个设置它们的位置和大小属性即可。不幸的是，这种情况很少。  
尽管某些配置可能更常见，但诸如手机、平板、游戏机这类设备之间的差异可能很大。因此，我们经常需要考虑长宽比、分辨率和用户缩放。  
解决该问题有许多方法，不过现在先考虑这样一个问题，假设屏幕分辨率发生了变化，控件需要重新放置。有些控件需要放在屏幕底部，有些放在屏幕顶部等。  
这可以通过编辑控件的锚点偏移量(`anchor offsets of controls`)来实现，其作用类似于边距`Margin`。

### 大小与锚点 
 每个控件有四个锚点偏移量，`left`，`right`，`bottom`，`top`，分别对应控件的各个边缘。  
 默认情况下，所有偏移量均表示相对于父控件左上角的像素距离（若没有父控件，则相对于视口`viewport`）。  
![anchor_offset](/notes/images/anchor_offset.png)
因此，要使控件更宽，你可以增大 `right offset`或减小`left offset`。这使你可以精确控制控件的位置和大小。  
`anchor`属性用于调整偏移量的参考位置。每个偏移量都有独立的锚点，该锚点可在父控件的起始位置到结束位置之间进行调整。因此，垂直方向（top，bottom）锚点调整范围是从0.0（父控件的顶部）到1.0（父控件的底部），0.5表示中心位置，控件的偏移量是相对于该点定位的。水平锚点类似。

注意，若你想要控件的边缘在锚点的左侧或上方，你需要将锚点偏移量设置为负值。

举个例子，当水平锚点都改为1.0时（相当于left、right锚点都是相对于父控件右侧边缘了，坐标方向依旧是正向左，负往右），偏移量变成相对于父控件或视口的右上角。  
![anchor_horizontal1](/notes/images/anchor_horizontal1.png)
当父控件调整大小时，将水平锚点或垂直锚点设为不同的值也会使子控件改变大小。这边有个例子，控件设置右下角锚到了父控件的右下角，左上角仍然锚到了父控件的左上角，因此缩放父控件时，子控件仍然会覆盖父控件，且留出20pixel的偏移量。  
![anchor_r1b1](/notes/images/anchor_r1b1.png)

### 锚点预设
除了手动调整偏移量和锚点值外，还可以使用视口上方工具栏中的锚点菜单。除了居中，它还提供了许多配置项来对齐和调整控件节点大小。





